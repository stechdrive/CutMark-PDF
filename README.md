# CutMark-PDF

絵コンテ用PDFにカット番号を配置し、新しいPDFとして書き出すためのブラウザツールです。  
すべての処理はクライアント側（ブラウザ内）で完結し、PDFデータが外部に送信されることはありません。

## [✨CutMark PDF✨](https://stechdrive.github.io/CutMark-PDF/)
## [✨連番画像用Photoshopプラグインはこちら✨](https://github.com/stechdrive/CutMark)

---

## 概要

CutMark-PDF は、日本のアニメ・映像制作で使われる縦並びの絵コンテPDFに対して、

- カット番号の連番入力
- 行スナップによる素早い入力
- テンプレートによるレイアウト各種コンテ用紙対応

をブラウザだけで行えるツールです。  
PDFを画像化せず、ベクターデータとして文字や白座布団を追記して新しいPDFを生成します。

---

## 主な機能

### PDF表示

- PDFファイルのドラッグ＆ドロップ読み込み
- 「PDFを開く」ボタンからのファイル選択
- ページ送り（前へ／次へ）
- 表示倍率の変更（縮小〜拡大）

### カット番号配置

- 画面上の任意の位置をクリックして配置
- 行スナップボタン（1〜最大9）で、テンプレートで定義した行位置にスナップして配置
- 自動連番（桁数は 3桁／4桁から選択）
- A-B分け
  - 親番号の下に枝番を縦に表示
  - ON/OFF時の番号進行を自動制御
- 自動インクリメントのON/OFF切り替え

### 編集・スタイル

- 配置済み番号のドラッグ移動
- 選択した番号の削除
- Undo / Redo（取り消し・やり直し）
- 文字サイズの調整
- 白フチ（縁取り）の太さ調整
- 白座布団（背景）のON/OFFと余白量の調整

### テンプレート機能

- 行数（1〜9行）の設定
- PDF上にガイド線を表示し、マウス／タッチでドラッグして位置調整
  - 赤い縦線：カット番号の横位置
  - 青い横線：各行の縦位置
- 1行目と最終行の位置を基準に、間の行を自動で等間隔に再配置
- テンプレートの保存・別名保存・削除
- 複数テンプレートの切り替え
- テンプレートはブラウザのローカルストレージに保存され、次回起動時も利用可能

---

## 操作方法

### 基本操作

- **PDFを開く**：  
  画面上部の「PDFを開く」ボタン、または中央エリアへのドラッグ＆ドロップ
- **カット番号を配置**：  
  - クリックした位置に直接配置  
  - 右パネルの「行スナップ」ボタン（1〜行数）で各行に配置
- **番号の編集**：  
  - 番号をドラッグして位置調整  
  - 選択状態で表示される × ボタンで削除
- **番号設定**（右パネル）  
  - 次の番号、桁数、A-B分け、自動進行などを設定
- **テンプレート編集**  
  - 上部の「枠設定」タブに切り替え  
  - PDF上の赤線・青線をドラッグして位置調整  
  - 右パネルから保存／別名保存／削除

### キーボードショートカット

- 行スナップ入力：  
  `1〜9` … 対応する行にカット番号を配置
- ページ移動：  
  `←` / `→` … 前のページ／次のページ  
  `Enter` … 次のページ
- Undo / Redo：  
  `Ctrl + Z` … Undo  
  `Ctrl + Shift + Z` … Redo  
  （入力欄にフォーカスがある場合は無効）

---

## セキュリティ

- 読み込んだPDFファイルや配置した情報は、すべてブラウザ内のメモリで処理されます。
- PDFデータをサーバーに送信する処理はありません。
- 書き出しPDFもブラウザ内で生成され、ダウンロードとして保存されます。
- 外部CDNから読み込むのはライブラリ本体のみであり、PDF内容が送信されることはありません。

